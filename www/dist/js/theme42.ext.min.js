/*global apex, $v*/
/*!
 theme42.ext.js
 Copyright (c) 2012, 2017 Oracle and/or its affiliates. All rights reserved.
 */
apex.theme42&&!apex.theme42.ext&&(apex.theme42.ext={},function(e,t){"use strict";var n=$v("pFlowStepId");t.filterItem=function(t){var n=t.pItem,a=t.pSearchItem,r=e("#"+a);r.attr("type","search");var i=function(t){var a=[],r=apex.item(n).item_type,i=function(e){if("CHECKBOX_GROUP"===r)return e.next().text().toLowerCase()},o=function(e){if("CHECKBOX_GROUP"===r)return e.parent()};e("input[name="+t+"]").each(function(){var t=e(this);a.push({node$:t,txt:i(t)})}),this.search=function(n){var r,i,s;if(n)for(e("#"+t).addClass("js-filter-active"),r=0;r<a.length;r++)i=a[r],s=o(i.node$),i.txt.indexOf(n.toLowerCase())>=0?s.addClass("js-filter-match"):s.removeClass("js-filter-match");else e("#"+t).removeClass("js-filter-active")}},o=new i(n);o.search(r.val()),r.on("keydown",function(t){13===t.which?t.preventDefault():27===t.which&&(t.stopPropagation(),e(this).val(""))}).on("keyup",function(t){o.search(e(this).val())})},t.filterReportPage=function(t){var n,a=t.pRegions,r=t.pToggleItem,i=e("#"+r),o=e("#"+t.pSearchItem),s=Object.keys(a),c=function(){var t,n,i,c=$v(r),u=o.val();for(i=0;i<s.length;i++)t=a[s[i]],n=e("#"+t),c===s[i]?(n.show(),n.data("key")!==u&&n.trigger("apexrefresh").data("key",u)):n.hide()};o.on("keydown",function(e){13===e.which&&e.preventDefault()}).on("input",function(){clearTimeout(n),n=setTimeout(c,250)}),i.change(c),c()},t.masterDetailPage={},function(t){var a,r="P"+n+"_FILTER_COUNT",i=[],o=e(".js-master-region, .js-detail-rds, .js-detail-region"),s=e(".no-record-selected"),c=e(".t-Body-contentInner"),u=function(){o.hide(),s.show(),c.addClass("center-regions")},l=function(){o.show(),s.hide(),c.removeClass("center-regions")},f=function(t,n){var a=e(".js-master-row");if(a[0]){var r=a.filter('[data-id="'+t+'"]').parent();n&&h(r.find("a.js-master-row")),e(".search-results").animate({scrollTop:r.position().top-e(".search-region").outerHeight()},500),r.addClass("is-active").focus()}},h=function(t){var n=e(".js-master-row").parent(),a=e(t);e.ajax({url:a.data("checksum")}).done(d),n.removeClass("is-active"),a.parent().addClass("is-active")},d=function(){o.trigger("apexrefresh"),e(".js-links-region").trigger("apexrefresh"),l()},p=function(){var t,n=$v(r);e("#apply_filters_btn .t-Button-label").append('<span id="filter_count"></span>'),t=e("#filter_count"),n>0?t.text(n):t.text("")},v=function(){var t,n,a=i.length;for(e("#links_region .js-button-url").each(function(){i.push(e(this).data("button-id"))}),n=0;n<a;n++)t=i[n],e("#"+t).attr("onclick",e('[data-button-id="'+t+'"]').attr("href"))},m=function(t){a=t;var n=$v(a);""!==n?e(window).on("theme42ready",function(){f(n),l()}):u(),e("body").on("click",".js-master-row",function(e){h(this)}),e("#links_region .js-button-url").each(function(t){i.push(e(this).data("button-id"))})};t.initializePage=m,t.hideRecord=u,t.showRecord=l,t.scrollToRecord=f,t.refreshReports=d,t.buildButtons=v,t.updateFilterBadge=p}(t.masterDetailPage)}(apex.jQuery,apex.theme42.ext));
//# sourceMappingURL=theme42.ext.min.js.map
